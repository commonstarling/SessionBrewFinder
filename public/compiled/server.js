'use strict';

var express = require('express');
var app = express();
var cors = require('cors');
var config = require('./config/config');
var BreweryDb = require('brewerydb-node');
var brewdb = new BreweryDb(config.BREWERYDB_KEY);
var path = require('path');
app.use(express.static('public'));
app.use(cors());

var port = 8080;

app.listen(port, function () {
  console.log('Listening on port ' + port);
});

app.get('/all', cors(), function (req, res) {
  brewdb.beer.find({ abv: -5, withBreweries: 'Y', format: 'json', order: 'description' }, function (err, data) {
    if (err) {
      console.error(err);
    } else {
      var limitedData = [data[Math.ceil(Math.random() * 50)], data[Math.ceil(Math.random() * 50)], data[Math.ceil(Math.random() * 50)], data[Math.ceil(Math.random() * 50)], data[Math.ceil(Math.random() * 50)]];
      res.send(limitedData);
    }
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NlcnZlci5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImFwcCIsImNvcnMiLCJjb25maWciLCJCcmV3ZXJ5RGIiLCJicmV3ZGIiLCJCUkVXRVJZREJfS0VZIiwicGF0aCIsInVzZSIsInN0YXRpYyIsInBvcnQiLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIiwiZ2V0IiwicmVxIiwicmVzIiwiYmVlciIsImZpbmQiLCJhYnYiLCJ3aXRoQnJld2VyaWVzIiwiZm9ybWF0Iiwib3JkZXIiLCJlcnIiLCJkYXRhIiwiZXJyb3IiLCJsaW1pdGVkRGF0YSIsIk1hdGgiLCJjZWlsIiwicmFuZG9tIiwic2VuZCJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxVQUFVQyxRQUFRLFNBQVIsQ0FBZDtBQUNBLElBQUlDLE1BQU1GLFNBQVY7QUFDQSxJQUFJRyxPQUFPRixRQUFRLE1BQVIsQ0FBWDtBQUNBLElBQUlHLFNBQVNILFFBQVEsaUJBQVIsQ0FBYjtBQUNBLElBQUlJLFlBQVlKLFFBQVEsZ0JBQVIsQ0FBaEI7QUFDQSxJQUFJSyxTQUFTLElBQUlELFNBQUosQ0FBY0QsT0FBT0csYUFBckIsQ0FBYjtBQUNBLElBQUlDLE9BQU9QLFFBQVEsTUFBUixDQUFYO0FBQ0FDLElBQUlPLEdBQUosQ0FBUVQsUUFBUVUsTUFBUixDQUFlLFFBQWYsQ0FBUjtBQUNBUixJQUFJTyxHQUFKLENBQVFOLE1BQVI7O0FBRUEsSUFBSVEsT0FBTyxJQUFYOztBQUVBVCxJQUFJVSxNQUFKLENBQVdELElBQVgsRUFBaUIsWUFBVztBQUMxQkUsVUFBUUMsR0FBUixDQUFZLHVCQUF1QkgsSUFBbkM7QUFDRCxDQUZEOztBQUlBVCxJQUFJYSxHQUFKLENBQVEsTUFBUixFQUFnQlosTUFBaEIsRUFBd0IsVUFBU2EsR0FBVCxFQUFjQyxHQUFkLEVBQW1CO0FBQ3pDWCxTQUFPWSxJQUFQLENBQVlDLElBQVosQ0FBaUIsRUFBRUMsS0FBSyxDQUFDLENBQVIsRUFBV0MsZUFBZSxHQUExQixFQUErQkMsUUFBUSxNQUF2QyxFQUErQ0MsT0FBTyxhQUF0RCxFQUFqQixFQUF3RixVQUFTQyxHQUFULEVBQWNDLElBQWQsRUFBb0I7QUFDMUcsUUFBSUQsR0FBSixFQUFTO0FBQ1BYLGNBQVFhLEtBQVIsQ0FBY0YsR0FBZDtBQUNELEtBRkQsTUFFTztBQUNMLFVBQUlHLGNBQWMsQ0FBQ0YsS0FBS0csS0FBS0MsSUFBTCxDQUFVRCxLQUFLRSxNQUFMLEtBQWMsRUFBeEIsQ0FBTCxDQUFELEVBQW9DTCxLQUFLRyxLQUFLQyxJQUFMLENBQVVELEtBQUtFLE1BQUwsS0FBYyxFQUF4QixDQUFMLENBQXBDLEVBQXVFTCxLQUFLRyxLQUFLQyxJQUFMLENBQVVELEtBQUtFLE1BQUwsS0FBYyxFQUF4QixDQUFMLENBQXZFLEVBQTBHTCxLQUFLRyxLQUFLQyxJQUFMLENBQVVELEtBQUtFLE1BQUwsS0FBYyxFQUF4QixDQUFMLENBQTFHLEVBQTZJTCxLQUFLRyxLQUFLQyxJQUFMLENBQVVELEtBQUtFLE1BQUwsS0FBYyxFQUF4QixDQUFMLENBQTdJLENBQWxCO0FBQ0FiLFVBQUljLElBQUosQ0FBU0osV0FBVDtBQUNEO0FBQ0YsR0FQRDtBQVFELENBVEQiLCJmaWxlIjoic2VydmVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XG52YXIgYXBwID0gZXhwcmVzcygpO1xudmFyIGNvcnMgPSByZXF1aXJlKCdjb3JzJyk7XG52YXIgY29uZmlnID0gcmVxdWlyZSgnLi9jb25maWcvY29uZmlnJyk7XG52YXIgQnJld2VyeURiID0gcmVxdWlyZSgnYnJld2VyeWRiLW5vZGUnKTtcbnZhciBicmV3ZGIgPSBuZXcgQnJld2VyeURiKGNvbmZpZy5CUkVXRVJZREJfS0VZKTtcbnZhciBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuYXBwLnVzZShleHByZXNzLnN0YXRpYygncHVibGljJykpO1xuYXBwLnVzZShjb3JzKCkpO1xuXG52YXIgcG9ydCA9IDgwODA7XG5cbmFwcC5saXN0ZW4ocG9ydCwgZnVuY3Rpb24oKSB7XG4gIGNvbnNvbGUubG9nKCdMaXN0ZW5pbmcgb24gcG9ydCAnICsgcG9ydCk7XG59KTtcblxuYXBwLmdldCgnL2FsbCcsIGNvcnMoKSwgZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgYnJld2RiLmJlZXIuZmluZCh7IGFidjogLTUsIHdpdGhCcmV3ZXJpZXM6ICdZJywgZm9ybWF0OiAnanNvbicsIG9yZGVyOiAnZGVzY3JpcHRpb24nIH0sIGZ1bmN0aW9uKGVyciwgZGF0YSkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGxpbWl0ZWREYXRhID0gW2RhdGFbTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkqNTApXSwgZGF0YVtNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSo1MCldLCBkYXRhW01hdGguY2VpbChNYXRoLnJhbmRvbSgpKjUwKV0sIGRhdGFbTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkqNTApXSwgZGF0YVtNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSo1MCldXTtcbiAgICAgIHJlcy5zZW5kKGxpbWl0ZWREYXRhKTtcbiAgICB9XG4gIH0pO1xufSk7XG4iXX0=